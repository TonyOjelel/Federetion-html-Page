import{C as E,u as M,_ as O,t as C,U as $,c as z,g as i,d as G,e as k,f as I,h as U,W as B,p as W,j as K,k as F,l as H,m as Y,n as q,o as J,F as Q,q as Z,E as ee}from"./homeSendControl-5e5db723.js";import{n as s,a as c,u as g,v as se,w as N,o as ae}from"./r-vendor-dd466634.js";import{B as T,I as te,C as oe,S as re}from"./ui-vendor-64b598f2.js";import{q as D,i as ie,o as ne,d as ce}from"./tools-vendor-adcf0e6a.js";import{P as pe}from"./index-08439030.js";import{M as le}from"./index-0aa00fd4.js";import{A as _e}from"./index-7ef5a52e.js";import"./p-vendor-b421b3ec.js";import"./__commonjsHelpers__-de833af9.js";function Te(){import.meta.url,import("_").catch(()=>1);async function*r(){}}const de=r=>{const{goToPopAi:e}=r,t=()=>{e==null||e({type:"mobile"})};return s.jsxs("div",{className:"share-try-it-mobile",children:[s.jsx(E,{className:"logo-icon",type:"logoBgWhite"}),s.jsx("span",{className:"logo-text",children:"PopAi"}),s.jsx(T,{type:"primary",className:"try-it-btn",onClick:t,children:"Try it now"})]})};const me=r=>{const{shareType:e,goToPopAi:t}=r,a=c.useMemo(()=>e==="CONTINUE_CONVERSATION",[e]),p=()=>{t==null||t({type:"mobile",position:"chatOn"},a)};return s.jsxs("div",{className:"share-try-it-bottom",children:[s.jsxs("div",{className:"share-try-it-bottom-info",children:[s.jsx(E,{type:"alert"}),s.jsxs("span",{children:[" ","This conversation might have been edited by the user. Please be aware that this bot may occasionally provide inaccurate responses. It does not have knowledge of events after 2021."]})]}),e&&s.jsx(T,{size:"large",block:!0,type:"primary",className:"chat-on-btn",onClick:p,children:a?"Continue the conversation":"Go to PopAi"})]})};const he=r=>{const{goToPopAi:e}=r,{t}=g(),a=()=>{e==null||e({type:"pc"})};return s.jsxs("div",{className:"share-try-it",children:[s.jsxs("div",{className:"share-try-it-logo",children:[s.jsx(E,{className:"logo-icon",type:"logoBgWhite"}),s.jsx("span",{children:"PopAi"})]}),s.jsx("div",{className:"hr mtb16"}),s.jsxs("div",{className:"share-try-it-text",children:["PopAi"," ",t("pages.share.content"),s.jsx("br",{}),s.jsx("br",{}),"PopAi"," ",t("pages.share.tryToday")]}),s.jsx("div",{className:"hr mtb16"}),s.jsx(T,{size:"large",block:!0,type:"primary",className:"try-it-btn",onClick:a,children:t("pages.share.tryItNow")})]})};const Pe=r=>{const{shareType:e,goToPopAi:t}=r,{t:a}=g(),p=c.useMemo(()=>e==="CONTINUE_CONVERSATION",[e]),d=()=>{t==null||t({type:"pc",position:"chatOn"},p)};return s.jsxs("div",{className:"share-try-it-bottom-pc",children:[s.jsxs("div",{className:"share-try-it-bottom-info",children:[s.jsx(E,{type:"alert"}),s.jsx("span",{children:a("pages.share.statement")})]}),e&&s.jsx(T,{size:"large",type:"primary",className:"chat-on-btn",onClick:d,children:p?a("pages.share.conversation"):"".concat(a("pages.share.goTo")," PopAi")})]})};const b={[z]:i({fontSize:"26px",background:"#19C37D"}),[G]:i({fontSize:"26px",background:"#19C37D"}),[k]:I({fontSize:"40px"}),[U]:I({fontSize:"40px"}),[B]:I({fontSize:"40px"}),[W]:i({fontSize:"26px"}),[K]:i({fontSize:"26px"}),[F]:i({fontSize:"26px"}),[H]:i({background:"#2e2e2e",fontSize:"26px"})},y={[z]:i({fontSize:"12px",background:"#19C37D"}),[G]:i({fontSize:"12px",background:"#19C37D"}),[k]:I({fontSize:"16px"}),[U]:I({fontSize:"16px"}),[B]:Y({fontSize:"16px"}),[W]:i({fontSize:"12px"}),[K]:i({fontSize:"12px"}),[F]:i({fontSize:"12px"}),[H]:i({background:"#2e2e2e",fontSize:"12px"})},Ie=r=>{const{channel:e,goToPopAi:t}=r,{i18n:a}=g(),{setLanguage:p}=M(),d=c.useMemo(()=>{var o;return{src:null,aiInfo:{...b[e==null?void 0:e.model]||{},style:{...((o=b[e==null?void 0:e.model])==null?void 0:o.style)||{}}},humanInfo:{name:"user",style:{background:"rgba(0, 0, 0, 0.25)",fontSize:"22px"}}}},[e==null?void 0:e.model]),f=o=>{var n;return o!=null&&o.imageUrls&&((n=o==null?void 0:o.imageUrls)==null?void 0:n.length)>0?o==null?void 0:o.imageUrls.map((u,x)=>s.jsx("div",{className:"message-image",children:s.jsx(te,{src:u})},x)):null};return c.useEffect(()=>{const o=(navigator==null?void 0:navigator.language)||(navigator==null?void 0:navigator.languages[0]);o==="ar"?(document.body.dir="rtl",O(()=>Promise.resolve({}),["assets/index.rtl-a30d2d79.css"])):document.body.dir="ltr",a.changeLanguage(o==="ar"?"ar":"en"),p(o==="ar"?"ar":"en")},[]),s.jsxs("div",{className:"share-view-chat-container",children:[s.jsx(de,{goToPopAi:t}),s.jsxs("div",{className:"share-view-chat-main",children:[s.jsxs("header",{className:"share-view-header",children:[s.jsxs("div",{className:"header-left",children:[s.jsx(E,{className:"header-icon",type:(e==null?void 0:e.fileTypeEnum)||"chat"}),s.jsxs("div",{className:"chat-info-pc",children:[s.jsx("span",{className:"chat-name",children:e==null?void 0:e.channelName}),s.jsxs("span",{className:"share-time",children:["Â | Conversation shared ",C(e==null?void 0:e.createdAt)]})]}),s.jsxs("div",{className:"chat-info-mobile",children:[s.jsx("div",{className:"chat-name",children:e==null?void 0:e.channelName}),s.jsxs("span",{className:"share-time",children:["Shared ",C(e==null?void 0:e.createdAt)]})]})]}),s.jsxs("div",{className:"header-right",children:[s.jsx($,{size:16,info:y==null?void 0:y[e==null?void 0:e.model]}),s.jsx("span",{className:"model-name",children:e==null?void 0:e.model})]})]}),s.jsx(se,{mode:"top",initialScrollBehavior:"auto",children:s.jsx("div",{className:"messages-container",children:s.jsx(le,{avatarInfo:d,messages:(e==null?void 0:e.messageList)||[],isReady:!0,extraHeaderRender:f})})}),s.jsxs("div",{className:"share-view-chat-main-footer",children:[s.jsx(me,{shareType:e==null?void 0:e.shareTypeEnum,goToPopAi:t}),s.jsx(Pe,{shareType:e==null?void 0:e.shareTypeEnum,goToPopAi:t})]})]}),s.jsx(he,{goToPopAi:t})]})};const{VITE_APP_GA_TRACKING_ID:V,VITE_APP_GA_ADS_ID_OLD:w,VITE_APP_GA_ADS_ID_NEW:L}={VITE_APP_GA_TRACKING_ID:"G-GCNH5GGHBR",VITE_APP_GA_ADS_ID_OLD:"AW-11272106486",VITE_APP_TITLE:"PopAi",VITE_APP_IMAGE:"https://popaife.s3.ap-southeast-1.amazonaws.com/logo/popai-logo.svg",VITE_APP_GOOGLE_CLIENT_ID:"476681674934-g02u1qr1jh8apjj4d9t725t9t6mdkkqb.apps.googleusercontent.com",VITE_APP_APPLE_CLIENT_ID:"com.popai.chatsign.web",VITE_APP_TPL_PREVIEW_BASE_URL:"https://api.popai.pro",VITE_APP_FASTSPRING_FRONT_URL:"popaipro.onfastspring.com/popup-popaipro",VITE_APP_STRIPE_PUBLISH_KEY:"pk_live_51NEOwrLv0OqyBAuocZl621IpfBDzEDoYKz5QrmzX1Rtp72tW41UYPwYnwaXQIHb4BSqSkoENNLA6f6sKM49SQCp7009cPHNGoe",VITE_APP_UPLOAD_IMAGE_BUCKET:"popai-file",VITE_APP_VF_DM_PROJECT_ID:"65688545d14f4f0007f71bdf",VITE_APP_VF_DM_PROJECT_ID_AR:"65e6f0a2905ec742d67e63a7",VITE_APP_AID:"32013",VITE_APP_PRODUCT_NAME:"popai",VITE_APP_APP_NAME:"popai-web",VITE_APP_NAME:"production",VITE_APP_HOST:"https://www.popai.pro",VITE_APP_API_PROXY:"https://api.popai.pro",VITE_APP_BASE_URL:"https://api.popai.pro",VITE_APP_DOMAIN:".popai.pro",VITE_APP_ANALYSIS_BASE_URL:"https://ug.popai.pro",VITE_APP_GA_ADS_ID_NEW:"AW-11283983651",VITE_APP_ANALYSIS_ID:"12",VITE_APP_META_PIXEL_ID1:"1693476791126527",VITE_APP_META_PIXEL_ID2:"3290089001281844",VITE_APP_META_PIXEL_ID3:"1261230351232091",VITE_APP_META_PIXEL_ID4:"680298653708319",VITE_APP_BING_UET_TAG_ID:"343087646",VITE_APP_TWITTER_PIXEL_ID:"ogygr",VITE_APP_TWITTER_PIXEL_ID1:"oi1kw",VITE_APP_LINKEDIN_ID:"5431082",VITE_APP_CHROME_PLUGIN_REDIRECT_URI:"https://www.popai.pro",VITE_APP_CHROME_PLUGIN_ID:"jaaajddkaoldkiajncgakhmogoboijoo",VITE_APP_ALIFE_PID:"bv3hiie0te@b0077a65ecc9738",VITE_APP_PROMO_URL:"https://promo.popai.pro",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1},Ee=()=>{const{t:r,i18n:e}=g(),{sendEvent:t}=q(),[a,p]=c.useState({}),[d,f]=c.useState({}),{setLanguage:o}=M(),n=c.useMemo(()=>D.parse(window.location.search.slice(1)),[]),u=async()=>{var l,A,m,h,j,S;try{const _=await J({shareKey:(l=n==null?void 0:n.shareKey)!=null?l:""});if(_.code===200&&_.data){const P=_.data;document.title=P.channelName,P.slides&&f(JSON.parse((h=(m=(A=P==null?void 0:P.slides)==null?void 0:A[0])==null?void 0:m.content)!=null?h:"{}"));const v=((j=_.data)==null?void 0:j.messageList)||[];(S=_.data)!=null&&S.multiDoc&&v.unshift({channelId:Q,messageId:Z,content:r("pages.chat.multiDocFirstMsg"),roleEnum:"AI"}),p({..._.data,messageList:v})}}catch(_){console.log(_)}},x=(l,A=!1)=>{var h;t("Shareuse",l);const m=(h=D)==null?void 0:h.stringify(A?n:ne(n,["shareKey"]));m?window.location.href="/?".concat(m):window.location.href="/"};c.useEffect(()=>{V&&(N.initialize(V,{testMode:!1}),w&&N.gtag("config",w),L&&N.gtag("config",L))},[]),c.useEffect(()=>{u(),t("Sharepage",{shareKey:n==null?void 0:n.shareKey})},[]);const X=()=>{switch(a==null?void 0:a.fileTypeEnum){case"ppt":return s.jsx(pe,{className:"share-view-ppt-container",channel:a,slides:d,theme:a==null?void 0:a.themeName,showLogo:!!(a!=null&&a.watermark),innerModel:(a==null?void 0:a.internal)===1});default:return s.jsx(Ie,{channel:a,goToPopAi:x})}};return c.useEffect(()=>{const l=(navigator==null?void 0:navigator.language)||(navigator==null?void 0:navigator.languages[0]);l==="ar"?(document.body.dir="rtl",O(()=>Promise.resolve({}),["assets/index.rtl-65fe5d75.css"])):document.body.dir="ltr",e.changeLanguage(l==="ar"?"ar":"en"),o(l==="ar"?"ar":"en")},[]),s.jsx("div",{className:"share-wrapper",children:!ie(a)&&X()})},Ae={prefixCls:"chat",theme:{token:{colorPrimary:"#3C38FF"}}},ge=new URLSearchParams(window.location.search),R=ge.get("ref");R&&ce.set("partner_ref",R,{domain:".popai.pro"});ae.createRoot(document.getElementById("share-root")).render(s.jsx(ee,{children:s.jsxs(oe,{...Ae,children:[s.jsx(_e,{}),s.jsx(re,{hashPriority:"high",children:s.jsx(Ee,{})})]})}));export{Te as __vite_legacy_guard};
